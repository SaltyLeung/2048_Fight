{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\SlideControl.js"],"names":["cc","Class","extends","Component","properties","vsController","default","type","require","gameScript_1","gameScript_2","touchStartLocation","v2","minMoveDisSqr","onLoad","start","that","node","on","Node","EventType","TOUCH_START","onTouchStart","TOUCH_END","onTouchEnd","event","touch","getLocation","TOUCH_MOVE","onTouchMove","moveVec","nowLocation","getLocationX","getLocationY","sub","console","log","magSqr","Math","abs","x","y","onSlide","off"],"mappings":"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","file":"SlideControl.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n         vsController: {\r\n            default: null,\r\n            type: require(\"VSController\")\r\n        },\r\n        gameScript_1: {\r\n            default:null,\r\n            type:require(\"Game\")\r\n        },\r\n        gameScript_2: {\r\n            default:null,\r\n            type:require(\"Game\")\r\n        },\r\n        touchStartLocation: {\r\n            default:null,\r\n            type:cc.v2\r\n        },\r\n        minMoveDisSqr:100,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () { \r\n        //this.gameScript = game.getComponent(require(\"Game\"));\r\n        //console.log(this.gameScript);\r\n    },\r\n\r\n    start () {\r\n        var that = this;\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        \r\n    },\r\n    onTouchStart(event) {\r\n        this.touchStartLocation = event.touch.getLocation();\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this);\r\n        /*    if(Math.abs(delta.x) >= Math.abs(delta.y)) {\r\n                if(delta.x > 0) { this.gameScript_1.onSlide(\"right\"); this.gameScript_2.onSlide(\"right\"); }\r\n                else { this.gameScript_1.onSlide(\"left\"); this.gameScript_2.onSlide(\"left\"); }\r\n            } else {\r\n                if(delta.y > 0) {this.gameScript_1.onSlide(\"up\");this.gameScript_2.onSlide(\"up\"); }\r\n                else {this.gameScript_1.onSlide(\"down\");this.gameScript_2.onSlide(\"down\"); }\r\n            }*/\r\n    },\r\n    onTouchMove(event) {\r\n        var moveVec = new cc.v2();\r\n        //var nowLocation;\r\n        //nowLocation = event.touch.getLocation();\r\n        //console.log(event.touch.getLocation());\r\n        var nowLocation = new cc.v2(event.touch.getLocationX(),event.touch.getLocationY());\r\n        nowLocation.sub(this.touchStartLocation, moveVec);\r\n        console.log(moveVec.magSqr());\r\n        if(moveVec.magSqr() > this.minMoveDisSqr) {\r\n            if(Math.abs(moveVec.x) > Math.abs(moveVec.y)) {\r\n                if(moveVec.x > 0) { this.gameScript_1.onSlide(\"right\"); this.gameScript_2.onSlide(\"right\"); this.touchStartLocation = nowLocation;}\r\n                else { this.gameScript_1.onSlide(\"left\"); this.gameScript_2.onSlide(\"left\"); }\r\n            } else {\r\n                if(moveVec.y > 0) {this.gameScript_1.onSlide(\"up\");this.gameScript_2.onSlide(\"up\");  this.touchStartLocation = nowLocation;}\r\n                else {this.gameScript_1.onSlide(\"down\");this.gameScript_2.onSlide(\"down\");  this.touchStartLocation = nowLocation;}\r\n            }\r\n        }\r\n    },\r\n    onTouchEnd() {\r\n        this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this);\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}