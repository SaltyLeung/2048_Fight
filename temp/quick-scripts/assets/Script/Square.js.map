{"version":3,"sources":["Square.js"],"names":["Square","cc","Class","extends","Component","properties","number","numLabel","default","type","Label","gameNode","Node","gameScript","require","tempTarget","toDouble","toDestroyed","moveSpeed","move","action","moveTo","positionList","getPosition","node","runAction","onLoad","getChildByName","find","getComponent","start","down","currIndex","targetIndex","i","eatableList","eat","update","dt","string","toString","module","exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,SAASC,GAAGC,KAAH,CAAS;AAClBC,aAASF,GAAGG,SADM;;AAGlBC,gBAAY;AACRC,gBAAQ,CADA,EACI;AACZC,kBAAU;AACNC,qBAAS,IADH;AAENC,kBAAKR,GAAGS;AAFF,SAFF;AAMRC,kBAAU;AACNH,qBAAS,IADH;AAENC,kBAAMR,GAAGW;AAFH,SANF;AAURC,oBAAY;AACRL,qBAAS,IADD;AAERC,kBAAMK,QAAQ,MAAR;AAFE,SAVJ;AAcRC,oBAAW,CAdH;AAeRC,kBAAU,KAfF;AAgBRC,qBAAa,KAhBL;AAiBRC,mBAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCQ,KAHM;;AAsClB;AACAC,QAvCkB,kBAuCX;AACH,YAAIC,SAASnB,GAAGoB,MAAH,CAAU,KAAKH,SAAf,EAA0B,KAAKL,UAAL,CAAgBS,YAAhB,CAA6B,KAAKP,UAAlC,EAA8CQ,WAA9C,EAA1B,CAAb;AACR;AACQ,aAAKC,IAAL,CAAUC,SAAV,CAAoBL,MAApB;AACH,KA3CiB;AA6ClBM,UA7CkB,oBA6CR;AACN,aAAKnB,QAAL,GAAgB,KAAKiB,IAAL,CAAUG,cAAV,CAAyB,QAAzB,CAAhB;AACA,aAAKd,UAAL,GAAkBZ,GAAG2B,IAAH,CAAQ,MAAR,EAAgBC,YAAhB,CAA6B,MAA7B,CAAlB;AACH,KAhDiB;AAkDlBC,SAlDkB,mBAkDT;;AAEL;;AAEH,KAtDiB;AAuDlBC,QAvDkB,gBAuDbC,SAvDa,EAuDF;AACZ,YAAIC,cAAcD,SAAlB;AACA,aAAI,IAAIE,IAAIF,YAAY,CAAxB,EAA2BE,IAAI,CAA/B,EAAkCA,KAAI,CAAtC;AACA,gBAAGrB,WAAWS,YAAX,CAAwBY,CAAxB,EAA2B5B,MAA3B,IAAqC,CAAxC,EAA2C2B,cAAcC,CAAd,CAA3C,KACK,IAAI,KAAK5B,MAAL,IAAe,KAAKO,UAAL,CAAgBS,YAAhB,CAA6BY,CAA7B,EAAgC5B,MAAhD,IAA2D,KAAKO,UAAL,CAAgBsB,WAAhB,CAA4BD,CAA5B,KAAkC,IAAhG,EAAuG;AACxG,qBAAKrB,UAAL,CAAgBuB,GAAhB,CAAoBJ,SAApB,EAA+BE,CAA/B,EAAkC,KAAKV,IAAvC;AACH;AAJD;AAKH,KA9DiB;AAgElBa,UAhEkB,kBAgEVC,EAhEU,EAgEN;AACR,aAAK/B,QAAL,CAAcsB,YAAd,CAA2B5B,GAAGS,KAA9B,EAAqC6B,MAArC,GAA8C,KAAKjC,MAAL,CAAYkC,QAAZ,EAA9C;AACH;AAlEiB,CAAT,CAAb;AAoEAC,OAAOC,OAAP,GAAiB1C,MAAjB","file":"Square.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\nvar Square = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        number: 0,  //所拥有的数字\r\n        numLabel: {\r\n            default: null,\r\n            type:cc.Label   \r\n        },\r\n        gameNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        gameScript: {\r\n            default: null,\r\n            type: require(\"Game\")\r\n        },\r\n        tempTarget:0,\r\n        toDouble: false,\r\n        toDestroyed: false,\r\n        moveSpeed:0.4\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    move() {\r\n        var action = cc.moveTo(this.moveSpeed, this.gameScript.positionList[this.tempTarget].getPosition());\r\n// 执行动作\r\n        this.node.runAction(action);\r\n    },\r\n\r\n    onLoad () {\r\n        this.numLabel = this.node.getChildByName(\"Number\");\r\n        this.gameScript = cc.find(\"Game\").getComponent(\"Game\");\r\n    },\r\n\r\n    start () {\r\n        \r\n        //console.log(this.numLabel.getComponent(cc.Label));\r\n        \r\n    },\r\n    down(currIndex) {\r\n        var targetIndex = currIndex;\r\n        for(var i = currIndex - 4; i > 0; i-= 4) \r\n        if(gameScript.positionList[i].number == 0) targetIndex = i;\r\n        else if((this.number == this.gameScript.positionList[i].number) && this.gameScript.eatableList[i] == true)  {\r\n            this.gameScript.eat(currIndex, i, this.node);\r\n        }\r\n    },\r\n\r\n    update (dt) {\r\n        this.numLabel.getComponent(cc.Label).string = this.number.toString();\r\n    },\r\n});\r\nmodule.exports = Square;\r\n"]}